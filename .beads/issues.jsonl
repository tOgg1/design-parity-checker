{"id":"design-parity-checker-08r","title":"Fix main.rs API mismatches blocking build","description":"main.rs has API mismatches: (1) image_to_normalized_view signature wrong (takes \u0026str not \u0026Path), (2) figma_to_normalized_view takes \u0026FigmaClient and \u0026FigmaRenderOptions, not individual args, (3) FigmaRenderOptions.viewport should be Option. Blocking full binary build.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T22:31:26.119439+01:00","updated_at":"2025-12-13T22:33:57.530478+01:00","closed_at":"2025-12-13T22:33:57.530478+01:00"}
{"id":"design-parity-checker-123","title":"CLI UX scaffolding \u0026 graceful fallbacks (json/pretty outputs, progress hints, non-implemented gating)","description":"Deliver user-friendly CLI UX scaffolding before full features land: (1) Non-implemented commands return structured JSON with status, message, and next-steps; pretty mode mirrors JSON fields; (2) Verbose runs show staged progress (parse args, detect resources, prepare capture, run metrics) even when stubbed; (3) Exit codes documented/consistent. This is a temporary but polished user-facing surface so the CLI feels premium while core features are built.","notes":"Added verbose stage logging for compare and honored --format in write_output; error exit code now 2.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-13T22:14:28.728469+01:00","updated_at":"2025-12-13T23:02:43.903639+01:00","dependencies":[{"issue_id":"design-parity-checker-123","depends_on_id":"design-parity-checker-2lc","type":"blocks","created_at":"2025-12-13T22:14:28.729801+01:00","created_by":"tormodhaugland"}]}
{"id":"design-parity-checker-1d2","title":"Implement hierarchy heuristic for quality mode","description":"Check for 2-3 distinct text size tiers (title/subtitle/body). Flag pages lacking clear visual hierarchy. Report missing hierarchy finding.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T21:42:53.692451+01:00","updated_at":"2025-12-13T21:42:53.692451+01:00","dependencies":[{"issue_id":"design-parity-checker-1d2","depends_on_id":"design-parity-checker-6zo","type":"blocks","created_at":"2025-12-13T21:43:07.391739+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-1qc","title":"NormalizedView \u0026 Input Processing Pipeline","description":"","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-13T21:38:59.994899+01:00","updated_at":"2025-12-13T21:38:59.994899+01:00"}
{"id":"design-parity-checker-242","title":"Implement Figma API client","description":"Create Figma API wrapper: authenticate with personal access token or OAuth, fetch file by key, fetch frame nodes, export images with scale factor. Handle rate limiting and errors.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T21:40:02.572462+01:00","updated_at":"2025-12-13T22:20:33.51594+01:00","closed_at":"2025-12-13T22:20:33.51594+01:00","dependencies":[{"issue_id":"design-parity-checker-242","depends_on_id":"design-parity-checker-4v9","type":"blocks","created_at":"2025-12-13T21:40:16.377958+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-2hw","title":"Implement pretty-print output format","description":"When --format pretty, output human-readable summary: colored pass/fail, similarity score, top issues list, metric breakdown with colors. Use termcolor or similar for terminal output.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T21:42:20.555133+01:00","updated_at":"2025-12-13T21:42:20.555133+01:00","dependencies":[{"issue_id":"design-parity-checker-2hw","depends_on_id":"design-parity-checker-4r9","type":"blocks","created_at":"2025-12-13T21:42:31.752873+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-2j5","title":"Set up clap CLI argument parsing","description":"Configure clap v4 with derive macros for dpc binary. Define subcommands (compare, generate-code, quality). Implement global flags. Add shell completion generation.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T21:41:38.100985+01:00","updated_at":"2025-12-13T21:47:50.605335+01:00","closed_at":"2025-12-13T21:47:50.605335+01:00","dependencies":[{"issue_id":"design-parity-checker-2j5","depends_on_id":"design-parity-checker-6f0","type":"blocks","created_at":"2025-12-13T21:41:53.883103+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-2lc","title":"CLI Commands (compare, generate-code, quality)","description":"","status":"in_progress","priority":1,"issue_type":"epic","created_at":"2025-12-13T21:39:00.183076+01:00","updated_at":"2025-12-13T22:04:19.304307+01:00"}
{"id":"design-parity-checker-3qt","title":"Figma image download uses unauthenticated reqwest::get","description":"Figma client builds an authenticated reqwest client but download_image bypasses it with bare reqwest::get, losing headers/timeouts/proxies. If the signed image URL requires auth or tighter timeouts, downloads may fail silently. Fix by reusing the configured client with per-request timeouts and add tests for error propagation.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T22:17:50.771689+01:00","updated_at":"2025-12-13T22:22:06.692963+01:00","closed_at":"2025-12-13T22:22:06.692963+01:00"}
{"id":"design-parity-checker-4r9","title":"Define JSON output schema v0.2.0","description":"Implement output struct matching spec: version, mode, ref/impl objects, viewport, similarity, threshold, passed bool, metrics breakdown with per-metric score and diffs, summary with topIssues. Serialize with serde_json.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T21:42:20.459957+01:00","updated_at":"2025-12-13T22:34:11.411807+01:00","closed_at":"2025-12-13T22:34:11.411807+01:00","dependencies":[{"issue_id":"design-parity-checker-4r9","depends_on_id":"design-parity-checker-4v9","type":"blocks","created_at":"2025-12-13T21:42:31.686076+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-4v9","title":"Define core type definitions","description":"Create types.rs with NormalizedView, DomSnapshot, FigmaSnapshot, OcrBlock, and all metric output structs (PixelMetric, LayoutMetric, TypographyMetric, ColorMetric, ContentMetric).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T21:39:24.155513+01:00","updated_at":"2025-12-13T21:50:56.279732+01:00","closed_at":"2025-12-13T21:50:56.279732+01:00","dependencies":[{"issue_id":"design-parity-checker-4v9","depends_on_id":"design-parity-checker-gnd","type":"blocks","created_at":"2025-12-13T21:39:34.79796+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-4wm","title":"Implement --ignore-selectors flag","description":"For DOM-based comparisons, exclude elements matching CSS selectors from metric calculations. Parse comma-separated selector list. Apply to layout, typography, content metrics.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T21:41:38.284055+01:00","updated_at":"2025-12-13T21:41:38.284055+01:00","dependencies":[{"issue_id":"design-parity-checker-4wm","depends_on_id":"design-parity-checker-se9","type":"blocks","created_at":"2025-12-13T21:41:54.332374+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-5se","title":"Implement combined score calculation","description":"Combine metrics: similarity = w_pixel*0.35 + w_layout*0.25 + w_typography*0.15 + w_color*0.15 + w_content*0.10. Handle missing metrics by redistributing weights. Implement configurable weights via CLI flags.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T21:40:49.768761+01:00","updated_at":"2025-12-13T22:22:10.18291+01:00","closed_at":"2025-12-13T22:22:10.18291+01:00","dependencies":[{"issue_id":"design-parity-checker-5se","depends_on_id":"design-parity-checker-n0q","type":"blocks","created_at":"2025-12-13T21:41:07.983923+01:00","created_by":"daemon"},{"issue_id":"design-parity-checker-5se","depends_on_id":"design-parity-checker-d8h","type":"blocks","created_at":"2025-12-13T21:41:08.048508+01:00","created_by":"daemon"},{"issue_id":"design-parity-checker-5se","depends_on_id":"design-parity-checker-wex","type":"blocks","created_at":"2025-12-13T21:41:08.109547+01:00","created_by":"daemon"},{"issue_id":"design-parity-checker-5se","depends_on_id":"design-parity-checker-ywj","type":"blocks","created_at":"2025-12-13T21:41:08.171809+01:00","created_by":"daemon"},{"issue_id":"design-parity-checker-5se","depends_on_id":"design-parity-checker-z95","type":"blocks","created_at":"2025-12-13T21:41:08.225665+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-6f0","title":"Add core dependencies to Cargo.toml","description":"Add essential crates: clap (CLI parsing), serde/serde_json (JSON), image (image processing), tokio (async runtime), thiserror/anyhow (error handling).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T21:39:24.073178+01:00","updated_at":"2025-12-13T21:46:40.562595+01:00","closed_at":"2025-12-13T21:46:40.562595+01:00","dependencies":[{"issue_id":"design-parity-checker-6f0","depends_on_id":"design-parity-checker-gnd","type":"blocks","created_at":"2025-12-13T21:39:34.735269+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-6zo","title":"Implement dpc quality command (experimental)","description":"Reference-free quality scoring with flags: --input, --input-type, --viewport, --output, --format. Compute heuristic score [0,1] plus findings (alignment, spacing, contrast, hierarchy). Label as experimental.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T21:41:38.008871+01:00","updated_at":"2025-12-13T21:41:38.008871+01:00","dependencies":[{"issue_id":"design-parity-checker-6zo","depends_on_id":"design-parity-checker-2j5","type":"blocks","created_at":"2025-12-13T21:41:54.197454+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-7bc","title":"Generate top issues summary","description":"Analyze metric diffs to produce human-readable topIssues array. Prioritize by severity. Examples: 'Main CTA button is shifted down by ~8px vs spec', 'Main header is lighter and smaller than Figma design'.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T21:42:20.645727+01:00","updated_at":"2025-12-13T22:30:53.357791+01:00","closed_at":"2025-12-13T22:30:53.357791+01:00","dependencies":[{"issue_id":"design-parity-checker-7bc","depends_on_id":"design-parity-checker-5se","type":"blocks","created_at":"2025-12-13T21:42:31.816308+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-7hb","title":"Output/report contract: define JSON schema, pretty mode, artifact path surfacing","description":"Define and implement output/report contract: JSON schema for success (scores, diffs, artifact paths) and errors; pretty mode mirrors JSON; sample payloads documented. Surface artifact locations (screenshots/DOM/diffs) in verbose mode. Acceptance: documented schema version, CLI emits structured outputs, and users can locate artifacts easily.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-13T22:15:29.497239+01:00","updated_at":"2025-12-13T22:17:54.14888+01:00","dependencies":[{"issue_id":"design-parity-checker-7hb","depends_on_id":"design-parity-checker-r0e","type":"blocks","created_at":"2025-12-13T22:15:29.498191+01:00","created_by":"tormodhaugland"}]}
{"id":"design-parity-checker-7ip","title":"Figma figma_to_normalized_view ignores requested viewport dimensions","description":"figma_to_normalized_view accepts an optional viewport but never uses it; returned NormalizedView width/height always come from the exported PNG dimensions, so callers cannot request a specific viewport or scaled dimensions. Respect the viewport or document that it is ignored, and add tests to lock behavior.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-13T22:46:03.887819+01:00","updated_at":"2025-12-13T23:01:24.646192+01:00","closed_at":"2025-12-13T23:01:24.646192+01:00"}
{"id":"design-parity-checker-7nb","title":"Error rendering UX: map DpcError to user-facing JSON/pretty with remediation","description":"Error rendering UX: map DpcError into user-facing JSON/pretty with categories (config/network/figma/image/metric), remediation hints, and consistent exit codes. Integrate with CLI scaffolding so errors are friendly and actionable. Acceptance: same error renders consistently across formats with a suggested fix.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T22:15:58.408578+01:00","updated_at":"2025-12-13T22:26:51.719336+01:00","closed_at":"2025-12-13T22:26:51.719336+01:00","dependencies":[{"issue_id":"design-parity-checker-7nb","depends_on_id":"design-parity-checker-rav","type":"blocks","created_at":"2025-12-13T22:15:58.409587+01:00","created_by":"tormodhaugland"}]}
{"id":"design-parity-checker-7oe","title":"Add CLI exit-code integration smoke tests","description":"Add small CLI-level integration tests to validate exit codes end-to-end: compare pass returns 0, threshold failure returns 1, fatal/config errors return 2. Use fixtures or minimal stubs (mock resources or temporary images) to avoid external dependencies. Document expected exit codes in test names and ensure coverage for JSON vs pretty output.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T23:45:42.397288+01:00","updated_at":"2025-12-13T23:45:42.397288+01:00"}
{"id":"design-parity-checker-7zm","title":"Capture pipeline UX: progress logging and timeout defaults in browser capture","description":"Capture pipeline UX: provide a single capture helper that logs stages (browser launch, nav, network-idle, screenshot/DOM), honors Config timeouts, and returns user-friendly progress/errors. Coordinate with bd-a1o implementation and output schema so artifacts are surfaced. Acceptance: capture API yields clear progress logs and respects configured timeouts.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T22:15:43.551679+01:00","updated_at":"2025-12-13T22:18:02.842217+01:00","dependencies":[{"issue_id":"design-parity-checker-7zm","depends_on_id":"design-parity-checker-a1o","type":"blocks","created_at":"2025-12-13T22:15:43.552726+01:00","created_by":"tormodhaugland"}]}
{"id":"design-parity-checker-8gb","title":"Implement resource type detection","description":"Parse --ref/--impl values to detect: Figma URLs (figma.com with file key + node-id), HTTP URLs, local image paths (.png/.jpg/.webp/.gif). Extract FILE_KEY and FRAME_ID from Figma URLs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T21:39:24.243548+01:00","updated_at":"2025-12-13T21:59:08.780975+01:00","closed_at":"2025-12-13T21:59:08.780975+01:00","dependencies":[{"issue_id":"design-parity-checker-8gb","depends_on_id":"design-parity-checker-4v9","type":"blocks","created_at":"2025-12-13T21:39:34.855961+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-8jv","title":"Implement exit codes for CI integration","description":"Exit 0 if passed (similarity \u003e= threshold), exit 1 if failed. Exit 2 for fatal errors (network, API failures). Document exit codes for CI/agent integration.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T21:42:20.823896+01:00","updated_at":"2025-12-13T23:46:22.876465+01:00","closed_at":"2025-12-13T23:46:22.876465+01:00","dependencies":[{"issue_id":"design-parity-checker-8jv","depends_on_id":"design-parity-checker-se9","type":"blocks","created_at":"2025-12-13T21:42:31.945577+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-988","title":"Implement OCR text extraction via Tesseract","description":"Use Tesseract (via Rust bindings or subprocess) to extract text blocks from screenshots when no DOM/Figma tree exists. Return OcrBlock[] with text content and bounding boxes. Only invoke when content metrics requested.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T21:40:02.752778+01:00","updated_at":"2025-12-13T21:40:02.752778+01:00","dependencies":[{"issue_id":"design-parity-checker-988","depends_on_id":"design-parity-checker-4v9","type":"blocks","created_at":"2025-12-13T21:40:16.508125+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-9kg","title":"Wire Config into CLI flags + optional config file; expose defaults and effective settings","description":"Wire Config into UX: map metric weights/timeouts/viewport to CLI flags and optional config file; show defaults in --help; print effective config in verbose runs; merge config file + CLI with clear precedence. Coordinate with viewport-unify (hgq) so a single Viewport flows through capture/metrics. Acceptance: flags + config file produce one Config used end-to-end; users can see and override defaults easily.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-13T22:15:01.569012+01:00","updated_at":"2025-12-13T22:17:24.952319+01:00","dependencies":[{"issue_id":"design-parity-checker-9kg","depends_on_id":"design-parity-checker-bxg","type":"blocks","created_at":"2025-12-13T22:15:01.570368+01:00","created_by":"tormodhaugland"}]}
{"id":"design-parity-checker-a1o","title":"Create Playwright browser management","description":"Manage Playwright browser lifecycle: launch headless Chromium, handle viewport configuration, implement network idle wait with timeout, cleanup browser instances. Consider pooling for performance.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T21:40:02.843306+01:00","updated_at":"2025-12-13T22:12:22.058276+01:00","closed_at":"2025-12-13T22:12:22.058276+01:00","dependencies":[{"issue_id":"design-parity-checker-a1o","depends_on_id":"design-parity-checker-6f0","type":"blocks","created_at":"2025-12-13T21:40:16.570236+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-abs","title":"Add unit tests for each metric","description":"Create unit tests for pixel, layout, typography, color, content metrics. Use fixture images and DOM snapshots. Test edge cases: identical inputs, completely different inputs, partial matches.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-13T21:42:53.879994+01:00","updated_at":"2025-12-13T22:34:05.960374+01:00","dependencies":[{"issue_id":"design-parity-checker-abs","depends_on_id":"design-parity-checker-5se","type":"blocks","created_at":"2025-12-13T21:43:07.514368+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-ac1","title":"Implement diff region clustering","description":"For pixel diffs, cluster adjacent 'hot' pixels into bounding box regions. Classify severity based on size and intensity. For layout diffs, generate regions for missing/extra/shifted/resized elements.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T21:40:49.853335+01:00","updated_at":"2025-12-13T22:44:12.013974+01:00","closed_at":"2025-12-13T22:44:12.013974+01:00","dependencies":[{"issue_id":"design-parity-checker-ac1","depends_on_id":"design-parity-checker-n0q","type":"blocks","created_at":"2025-12-13T21:41:08.28803+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-ba1","title":"Set up GitHub Actions CI","description":"Configure CI: cargo build, cargo test, cargo clippy, cargo fmt --check. Add badge to README. Consider release workflow for binary distribution.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T21:42:54.057177+01:00","updated_at":"2025-12-13T21:54:38.334928+01:00","closed_at":"2025-12-13T21:54:38.334928+01:00","dependencies":[{"issue_id":"design-parity-checker-ba1","depends_on_id":"design-parity-checker-gnd","type":"blocks","created_at":"2025-12-13T21:43:07.63413+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-bxg","title":"Create config/options module","description":"Implement configuration struct for: viewport (default 1440x900), threshold (default 0.95), metric weights, timeout settings. Support CLI flags and potential config file.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-13T21:39:24.433134+01:00","updated_at":"2025-12-13T22:10:50.703975+01:00","dependencies":[{"issue_id":"design-parity-checker-bxg","depends_on_id":"design-parity-checker-4v9","type":"blocks","created_at":"2025-12-13T21:39:34.973929+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-byf","title":"Implement DOM snapshot extraction","description":"During URL rendering, extract: node tree (tag, attributes, text), bounding boxes in viewport coordinates, computed styles for key properties (font-family, font-size, font-weight, color, background-color, line-height).","notes":"DOM snapshot extractor implemented; computed styles extended with display/visibility/opacity; tests added","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T21:40:02.402484+01:00","updated_at":"2025-12-13T22:39:54.336119+01:00","closed_at":"2025-12-13T22:39:54.336122+01:00","dependencies":[{"issue_id":"design-parity-checker-byf","depends_on_id":"design-parity-checker-a1o","type":"blocks","created_at":"2025-12-13T21:40:16.263076+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-c5w","title":"url_to_normalized_view returns opaque Playwright errors when npm module is missing","description":"render_url maps the Playwright 'Cannot find module \\'playwright\\'' failure to an actionable config message, but url_to_normalized_view returns the raw JSON/exit text. Add consistent error mapping (and tests) so DOM capture path guides users to install playwright.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-13T22:46:34.497746+01:00","updated_at":"2025-12-13T22:53:08.245887+01:00","closed_at":"2025-12-13T22:53:08.245887+01:00"}
{"id":"design-parity-checker-d8h","title":"Implement Layout/Structure Similarity metric","description":"Extract elements from DOM/Figma (buttons, headings, text blocks, images, inputs). Normalize coords to [0,1] relative to viewport. Build spatial relation graph. Greedy match elements by type, label, proximity. Score = 0.5*match_rate + 0.5*avg_IoU.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T21:40:49.43412+01:00","updated_at":"2025-12-13T22:07:01.498213+01:00","closed_at":"2025-12-13T22:07:01.498213+01:00","dependencies":[{"issue_id":"design-parity-checker-d8h","depends_on_id":"design-parity-checker-h0g","type":"blocks","created_at":"2025-12-13T21:41:07.739806+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-djy","title":"Known issues \u0026 coordination runbook","description":"Document current gaps (CLI stubbed, browser capture in progress, reservations expectations) and add a short runbook on using file reservations to avoid collisions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T22:33:11.856696+01:00","updated_at":"2025-12-13T22:34:06.611524+01:00","closed_at":"2025-12-13T22:34:06.611524+01:00"}
{"id":"design-parity-checker-enw","title":"Write README and usage documentation","description":"Document: installation, CLI usage examples for all 3 commands, configuration options, CI integration, exit codes, JSON schema reference, agent workflow example.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-13T21:42:53.970316+01:00","updated_at":"2025-12-13T21:42:53.970316+01:00","dependencies":[{"issue_id":"design-parity-checker-enw","depends_on_id":"design-parity-checker-se9","type":"blocks","created_at":"2025-12-13T21:43:07.576814+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-ff3","title":"Add integration tests for compare command","description":"Create end-to-end tests: image vs image comparison, mock URL rendering, Figma API mocking. Verify JSON output matches schema. Test threshold pass/fail logic.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T21:42:53.789077+01:00","updated_at":"2025-12-13T23:52:14.947928+01:00","closed_at":"2025-12-13T23:52:14.947928+01:00","dependencies":[{"issue_id":"design-parity-checker-ff3","depends_on_id":"design-parity-checker-se9","type":"blocks","created_at":"2025-12-13T21:43:07.452923+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-gnd","title":"Initialize Rust project with Cargo","description":"Create new Rust binary project 'dpc' with proper Cargo.toml structure. Set up workspace for potential future crates (lib + binary separation).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T21:39:23.981136+01:00","updated_at":"2025-12-13T21:45:15.886555+01:00","closed_at":"2025-12-13T21:45:15.886555+01:00"}
{"id":"design-parity-checker-h0g","title":"Create metrics trait/interface","description":"Design pluggable metric interface: trait Metric { fn compute(ref: NormalizedView, impl: NormalizedView) -\u003e MetricResult }. Enable selective metric execution via --metrics flag. Support future metric additions.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T21:40:49.942146+01:00","updated_at":"2025-12-13T21:53:54.096874+01:00","closed_at":"2025-12-13T21:53:54.096874+01:00","dependencies":[{"issue_id":"design-parity-checker-h0g","depends_on_id":"design-parity-checker-4v9","type":"blocks","created_at":"2025-12-13T21:41:07.616884+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-hgq","title":"Unify viewport handling across CLI/config/types with early validation and single Viewport type","description":"Unify viewport handling: one canonical Viewport type shared across CLI/config/normalized types; CLI eagerly parses WIDTHxHEIGHT with helpful errors and echoes the parsed viewport in verbose output. Ensure downstream capture/metrics receive the same Viewport instance. Acceptance: no duplicate viewport structs; invalid input surfaces actionable error; defaults remain 1440x900.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T22:14:47.389641+01:00","updated_at":"2025-12-13T22:21:50.268974+01:00","closed_at":"2025-12-13T22:21:50.268974+01:00","dependencies":[{"issue_id":"design-parity-checker-hgq","depends_on_id":"design-parity-checker-ksu","type":"blocks","created_at":"2025-12-13T22:14:47.390617+01:00","created_by":"tormodhaugland"}]}
{"id":"design-parity-checker-hjn","title":"Add coverage for score aggregation and top issue ranking","description":"calculate_combined_score and generate_top_issues lack unit tests for partial metric sets, zero weights, and severity ordering. Add focused tests to lock expected behavior (weights re-normalized over present metrics, issues sorted by severity, truncation respected).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T22:46:50.017922+01:00","updated_at":"2025-12-13T22:50:09.96169+01:00","closed_at":"2025-12-13T22:50:09.96169+01:00"}
{"id":"design-parity-checker-ixs","title":"Preflight check for Node/Playwright dependency","description":"Our browser runner shells out to an embedded JS Playwright script (node -e ...), but we never verify that node and the playwright npm package are installed. When missing, users just see a generic config error from the helper. Add a preflight check (or friendlier error mapping) that detects missing node or playwright and surfaces actionable guidance; include tests/docs.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-13T22:17:38.492642+01:00","updated_at":"2025-12-13T22:27:13.590852+01:00","closed_at":"2025-12-13T22:27:13.590852+01:00"}
{"id":"design-parity-checker-keq","title":"Developer quickstart: build/test and environment requirements","description":"Document how to build/test locally, required toolchain (Rust stable, Node/Playwright once capture lands), and basic cargo commands. Goal: reduce onboarding friction while core features are in flux.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T22:29:53.394623+01:00","updated_at":"2025-12-13T22:31:13.507715+01:00","closed_at":"2025-12-13T22:31:13.507715+01:00"}
{"id":"design-parity-checker-ksu","title":"Implement viewport parsing","description":"Parse --viewport WIDTHxHEIGHT format (e.g., 1440x900). Validate dimensions. Default to 1440x900. Pass to rendering pipeline.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T21:41:38.194749+01:00","updated_at":"2025-12-13T21:49:16.082569+01:00","closed_at":"2025-12-13T21:49:16.082569+01:00","dependencies":[{"issue_id":"design-parity-checker-ksu","depends_on_id":"design-parity-checker-2j5","type":"blocks","created_at":"2025-12-13T21:41:54.268946+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-kyu","title":"Implement Figma to NormalizedView conversion","description":"Use Figma REST API to: fetch file and frame JSON, export frame as PNG at given dimensions, extract nodes with bounding boxes, text nodes with styles, fill colors, font family/weight/size.","status":"in_progress","priority":0,"issue_type":"task","created_at":"2025-12-13T21:40:02.488894+01:00","updated_at":"2025-12-13T22:04:06.245705+01:00","dependencies":[{"issue_id":"design-parity-checker-kyu","depends_on_id":"design-parity-checker-242","type":"blocks","created_at":"2025-12-13T21:40:16.322636+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-lm9","title":"Metrics System Implementation","description":"","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-13T21:39:00.092768+01:00","updated_at":"2025-12-13T21:39:00.092768+01:00"}
{"id":"design-parity-checker-n0q","title":"Implement Pixel/Perceptual Similarity metric","description":"Use image-compare crate (SSIM) or dssim for perceptual similarity. Convert screenshots to common color space, compute metric normalized to [0,1]. Generate diff heatmap and cluster hot pixels into regions with severity levels (minor/moderate/major).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T21:40:49.34555+01:00","updated_at":"2025-12-13T22:08:00.076031+01:00","closed_at":"2025-12-13T22:08:00.076031+01:00","dependencies":[{"issue_id":"design-parity-checker-n0q","depends_on_id":"design-parity-checker-h0g","type":"blocks","created_at":"2025-12-13T21:41:07.678709+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-pcu","title":"Implement URL to NormalizedView conversion","description":"Use headless Chromium via Playwright to render web URLs at given viewport. Wait for network idle (configurable timeout). Capture PNG screenshot and DOM snapshot (node tree, bounding boxes, computed styles).","status":"in_progress","priority":0,"issue_type":"task","created_at":"2025-12-13T21:40:02.308265+01:00","updated_at":"2025-12-13T22:59:32.727045+01:00","dependencies":[{"issue_id":"design-parity-checker-pcu","depends_on_id":"design-parity-checker-4v9","type":"blocks","created_at":"2025-12-13T21:40:16.143678+01:00","created_by":"daemon"},{"issue_id":"design-parity-checker-pcu","depends_on_id":"design-parity-checker-a1o","type":"blocks","created_at":"2025-12-13T21:40:16.20505+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-q40","title":"Detect missing Playwright JS dependency","description":"When Node is present but the JS helper cannot require('playwright') (module missing), the browser runner returns a generic config error. Detect this specific failure (stderr from script) and surface a clear instruction to install Playwright npm package. Add test exercising the mapping.","status":"in_progress","priority":2,"issue_type":"bug","created_at":"2025-12-13T22:28:06.186857+01:00","updated_at":"2025-12-13T22:28:20.670759+01:00"}
{"id":"design-parity-checker-qpi","title":"Implement Image to NormalizedView conversion","description":"Load local images via Rust image crate (.png, .jpg, .jpeg, .webp, .gif). Handle size normalization: scale impl to ref resolution, letterbox if aspect ratio mismatch. Support --no-resize option.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T21:40:02.660836+01:00","updated_at":"2025-12-13T21:55:27.603826+01:00","closed_at":"2025-12-13T21:55:27.603826+01:00","dependencies":[{"issue_id":"design-parity-checker-qpi","depends_on_id":"design-parity-checker-4v9","type":"blocks","created_at":"2025-12-13T21:40:16.438268+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-qvv","title":"Implement --keep-artifacts flag","description":"When enabled, preserve intermediate files: screenshots, DOM JSON snapshots, Figma JSON, diff heatmaps. Store in temp directory or specified output path.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T21:41:38.473079+01:00","updated_at":"2025-12-13T21:41:38.473079+01:00","dependencies":[{"issue_id":"design-parity-checker-qvv","depends_on_id":"design-parity-checker-se9","type":"blocks","created_at":"2025-12-13T21:41:54.457157+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-r0e","title":"Output \u0026 Reporting","description":"","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-13T21:39:00.268835+01:00","updated_at":"2025-12-13T21:39:00.268835+01:00"}
{"id":"design-parity-checker-rav","title":"Set up error handling infrastructure","description":"Create error.rs with DpcError enum covering: IO errors, network errors, Figma API errors, image processing errors, metric computation errors. Implement proper error propagation.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T21:39:24.334729+01:00","updated_at":"2025-12-13T21:51:41.880121+01:00","closed_at":"2025-12-13T21:51:41.880121+01:00","dependencies":[{"issue_id":"design-parity-checker-rav","depends_on_id":"design-parity-checker-gnd","type":"blocks","created_at":"2025-12-13T21:39:34.913175+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-s4t","title":"Implement alignment heuristic for quality mode","description":"Cluster x-positions of element left edges. Flag elements that deviate significantly from clusters. Calculate alignment score for quality mode findings.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T21:42:53.409852+01:00","updated_at":"2025-12-13T21:42:53.409852+01:00","dependencies":[{"issue_id":"design-parity-checker-s4t","depends_on_id":"design-parity-checker-6zo","type":"blocks","created_at":"2025-12-13T21:43:07.201079+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-se9","title":"Implement dpc compare command","description":"Main comparison command with flags: --ref, --impl, --ref-type, --impl-type, --viewport (default 1440x900), --threshold (default 0.95), --metrics, --ignore-selectors, --ignore-regions, --format json|pretty, --output, --keep-artifacts, --verbose.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T21:41:37.833703+01:00","updated_at":"2025-12-13T22:47:43.914824+01:00","closed_at":"2025-12-13T22:47:43.914824+01:00","dependencies":[{"issue_id":"design-parity-checker-se9","depends_on_id":"design-parity-checker-2j5","type":"blocks","created_at":"2025-12-13T21:41:53.953693+01:00","created_by":"daemon"},{"issue_id":"design-parity-checker-se9","depends_on_id":"design-parity-checker-5se","type":"blocks","created_at":"2025-12-13T21:41:54.01414+01:00","created_by":"daemon"},{"issue_id":"design-parity-checker-se9","depends_on_id":"design-parity-checker-8gb","type":"blocks","created_at":"2025-12-13T21:41:54.075566+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-uvy","title":"Implement dpc generate-code command","description":"Code generation command with flags: --input, --input-type, --stack html+tailwind (MVP only), --viewport, --output. Wrap screenshot-to-code or equivalent LLM pipeline. Return code only, errors as JSON.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T21:41:37.928707+01:00","updated_at":"2025-12-13T21:41:37.928707+01:00","dependencies":[{"issue_id":"design-parity-checker-uvy","depends_on_id":"design-parity-checker-2j5","type":"blocks","created_at":"2025-12-13T21:41:54.137505+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-vam","title":"Project Setup \u0026 Core Infrastructure","description":"","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-13T21:38:59.902877+01:00","updated_at":"2025-12-13T21:38:59.902877+01:00"}
{"id":"design-parity-checker-vqg","title":"Implement contrast heuristic for quality mode","description":"Approximate text/background contrast ratios. Flag low contrast elements that may fail WCAG guidelines. Report as quality finding with severity.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T21:42:53.59865+01:00","updated_at":"2025-12-13T21:42:53.59865+01:00","dependencies":[{"issue_id":"design-parity-checker-vqg","depends_on_id":"design-parity-checker-6zo","type":"blocks","created_at":"2025-12-13T21:43:07.327148+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-wex","title":"Implement Typography Similarity metric","description":"For matched elements, extract font-family, font-size, font-weight, line-height. Map families to canonical groups. Compute penalties: family mismatch (high), size diff \u003e10% (medium), weight category mismatch (medium). Score = 1 - clamp(weighted_avg_penalty).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T21:40:49.517311+01:00","updated_at":"2025-12-13T22:13:33.323252+01:00","closed_at":"2025-12-13T22:13:33.323252+01:00","dependencies":[{"issue_id":"design-parity-checker-wex","depends_on_id":"design-parity-checker-d8h","type":"blocks","created_at":"2025-12-13T21:41:07.796151+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-wgc","title":"Resource detection UX: resilient type detection and actionable error messages","description":"Improve resource detection UX: case-insensitive image extensions, file existence checks with helpful hints, clearer URL/Figma parsing errors, and remediation tips (e.g., add file://, correct node-id). Surface detected kind in verbose output. Acceptance: users get actionable errors and the detected resource type is logged; no silent mis-detections.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T22:15:15.809767+01:00","updated_at":"2025-12-13T22:22:40.975157+01:00","closed_at":"2025-12-13T22:22:40.975157+01:00","dependencies":[{"issue_id":"design-parity-checker-wgc","depends_on_id":"design-parity-checker-2lc","type":"blocks","created_at":"2025-12-13T22:15:15.811135+01:00","created_by":"tormodhaugland"}]}
{"id":"design-parity-checker-woo","title":"Implement spacing heuristic for quality mode","description":"Analyze gaps between neighboring elements. Cluster spacing values. Flag outliers when 5+ distinct vertical spacing values detected. Report inconsistent spacing findings.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T21:42:53.505882+01:00","updated_at":"2025-12-13T21:42:53.505882+01:00","dependencies":[{"issue_id":"design-parity-checker-woo","depends_on_id":"design-parity-checker-6zo","type":"blocks","created_at":"2025-12-13T21:43:07.268082+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-x86","title":"Generate diff heatmap image","description":"Create visual diff image highlighting pixel differences. Save as PNG alongside JSON output when --keep-artifacts. Use color coding for severity (green minor, yellow moderate, red major).","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T21:42:20.907265+01:00","updated_at":"2025-12-13T21:42:20.907265+01:00","dependencies":[{"issue_id":"design-parity-checker-x86","depends_on_id":"design-parity-checker-n0q","type":"blocks","created_at":"2025-12-13T21:42:32.007725+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-x8h","title":"Implement quality mode output format","description":"For dpc quality command, output: version, mode, input object, viewport, score, findings array with severity (warning/info), type (alignment_inconsistent, spacing_inconsistent, low_contrast, missing_hierarchy), message.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T21:42:20.73811+01:00","updated_at":"2025-12-13T21:42:20.73811+01:00","dependencies":[{"issue_id":"design-parity-checker-x8h","depends_on_id":"design-parity-checker-6zo","type":"blocks","created_at":"2025-12-13T21:42:31.880412+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-xzf","title":"Docs \u0026 samples: premium-grade CLI guidance and walkthroughs","description":"Premium docs \u0026 samples: concise, Stripe-quality CLI guidance for compare/generate-code/quality with end-to-end examples, sample outputs (JSON/pretty), config flags, artifact locations, and troubleshooting (timeouts, resource detection, missing node-id). Acceptance: a short doc users can follow to run a parity check confidently with expected outputs shown.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T22:16:11.997046+01:00","updated_at":"2025-12-13T22:28:01.657264+01:00","closed_at":"2025-12-13T22:28:01.657264+01:00","dependencies":[{"issue_id":"design-parity-checker-xzf","depends_on_id":"design-parity-checker-2lc","type":"blocks","created_at":"2025-12-13T22:16:11.997976+01:00","created_by":"tormodhaugland"}]}
{"id":"design-parity-checker-ywj","title":"Implement Color Palette Similarity metric","description":"Extract dominant colors via k-means clustering in Lab color space. Compare pairwise distances between major colors. Calculate overlap of palette coverage by area. Optionally cross-check Figma color tokens vs CSS custom properties.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T21:40:49.596547+01:00","updated_at":"2025-12-13T22:02:11.025328+01:00","closed_at":"2025-12-13T22:02:11.025328+01:00","dependencies":[{"issue_id":"design-parity-checker-ywj","depends_on_id":"design-parity-checker-h0g","type":"blocks","created_at":"2025-12-13T21:41:07.859426+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-z95","title":"Implement Content Similarity metric","description":"Extract text strings from DOM, Figma, or OCR. Normalize whitespace, case, punctuation. Fuzzy match strings for headings/labels. Compute fraction matched, penalty for extra large strings. Return missingText[] and extraText[].","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T21:40:49.681446+01:00","updated_at":"2025-12-13T22:15:46.73309+01:00","closed_at":"2025-12-13T22:15:46.73309+01:00","dependencies":[{"issue_id":"design-parity-checker-z95","depends_on_id":"design-parity-checker-h0g","type":"blocks","created_at":"2025-12-13T21:41:07.919819+01:00","created_by":"daemon"}]}
{"id":"design-parity-checker-zmj","title":"Implement --ignore-regions flag","description":"Load JSON file with manual bounding boxes to exclude from pixel comparison. Format: [{x, y, w, h}]. Mask regions before computing pixel metric.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T21:41:38.375234+01:00","updated_at":"2025-12-13T21:41:38.375234+01:00","dependencies":[{"issue_id":"design-parity-checker-zmj","depends_on_id":"design-parity-checker-se9","type":"blocks","created_at":"2025-12-13T21:41:54.393974+01:00","created_by":"daemon"}]}
